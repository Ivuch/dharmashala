<html>
<head>
	<title></title>
	<script>
/*

Un supermercado necesita decidir qué promociones le conviene ofrecer 
para poder incrementar su ganancia. Cada producto tiene una demanda y
 un costo determinado. La demanda es un valor entre 0 y 1 que determina 
 el porcentaje del mercado que posee ese producto. Cuando se pone un descuento
  de r% en un producto determinado, la demanda de los otros productos se reduce 
  en un r% y el producto con la promoción absorbe toda esa demanda. Se pide realizar
   un programa que, dado un listado de productos (con sus identificadores únicos, 
   precios y sus demandas) y un descuento dado por un porcentaje junto con el 
   identificador del producto al cual asignársele, determine si conviene o no 
   realizar el descuento.
*/

// Para testear tu código en nuestros servidores debes mantener la estructura expuesta abajo.
// Eres libre de crear nuevas funciones/procedimientos.
// Recuerda que el código que escribas podrá ser visto por las empresas a las que te postules.
// var lista_productos = [ ['coca', 10.0, 0.01], ['pepsi', 0.5, 0.59], ['manaos', 0.3, 0.4] ];
// var porcentaje_descuento = 0.2;
// var nombre_producto = 'coca';
function convienve_descuento(lista_productos, porcentaje_descuento, nombre_producto){
	var ganancia_inicial = 0;
	var demandaTotal = 0;
	var prod;
	var ganancia_final = 0;
 	for( var i =0; i<lista_productos.length;i++){
 		var aux = lista_productos[i][1] * lista_productos[i][2]
 		ganancia_inicial += aux
     	if(nombre_producto != lista_productos[i][0]){
     		lista_productos[i][2] -= porcentaje_descuento
     		demandaTotal += porcentaje_descuento
     		var ganancia = lista_productos[i][1]*lista_productos[i][2]
     		ganancia_final += ganancia;
     	}else{
     		prod = lista_productos[i]
     	}
    }
    prod[2] += demandaTotal
    var  ganancia_prod = prod[1]*prod[2]
    if(ganancia_prod+ganancia_final > ganancia_inicial){
    	return true
    }else{
    	return false
    }
}
</script>
</head>
<body>
	<button onclick="convienve_descuento([ ['coca', 10.0, 0.01], ['pepsi', 0.5, 0.59], ['manaos', 0.3, 0.4] ], 0.2, 'coca')"></button>
</body>
</html>
